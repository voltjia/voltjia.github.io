# 回声

很好，我们已经讲了黑盒的概念，并且还讲了 C 语言中的一种输出方式（`printf`），但是对于一个盒子来说，光有输出是不行的，我们还要懂得如何输入。所以与 `printf` 相对的，我们有着一个写着 `scanf`（“scan formatted”）的盒子，同样是使用 `<stdio.h>` 里的电源供电。

```C
#include <stdio.h>

int main() {
    char s[128];
    scanf("%s", s);
    printf("%s\n", s);
    return 0;
}
```

如果大家运行了这段代码，在框框里输入一段字符，并且回车，那么你会看到程序会再打印出一行相同的字符，比如如果我输入 `Hello!` 之后回车，那么将会有如下显示。

```
Hello!
Hello!
```

其中第一行是我的输入，第二行则是程序的输出。是不是很像在山谷里大喊了一声，听到了山谷传来的回音。除了 `scanf` 之外，我们看到了一行熟悉又陌生的 `char s[128];`，大家有没有觉得，这非常像我们之前提到的声明变量的形式，有一个名字 `s`，前面还有个 `char`。没错，这就是个变量声明，`char` 是一个新的类型，是英文 character 的缩写，可以存放一个字符，就像之前提到的 `'a'`、`'1'`、`'!'` 之类的。那么问题来了，后面的 `[128]` 是啥意思呢？这里我们就要再引入一个新的概念：数组。想象一个柜子，柜子上按顺序有好几个抽屉，每个抽屉都存储了相同类型的东西，这样一个柜子，就是数组。而 C 语言当中，声明一个数组的方式，就是在名称后面加上方括号，方括号中间放入这个柜子当中有多少个抽屉。换句话说，`char s[128];` 声明了一个带有 `128` 个抽屉的柜子，其中每个抽屉可以用来存储一个 `char`，并且把它命名为了 `s`。

有了柜子 `s`，我们就可以进一步解释 `scanf` 了，它会按照第一个输入（一个格式化的字符串）所表示的格式，读取用户的输入，然后放入后面的指定位置。比如，`scanf("%s", s);`，就是读取一个字符串（`%s` 这个占位符对应的就是字符串，可以记成 s 是英文 string 的首字母），然后把它放进后面的柜子 `s` 里。细心的读者可能会有疑问：上面说 `s` 是个数组，这里怎么能存放字符串呢？很好的问题，因为 C 语言比较精简，本身几乎没有附带什么数据结构，所以一般 C 语言所说的字符串，就是一个字符数组，只不过以 `'\0'` 这样一个特殊的字符结束。对于 `'\0'`，大家可以这么理解，一个柜子可以比较大，但是我们却不一定能使用全部抽屉，那么我们知道一个字符串从第一个抽屉开始，到哪里结束呢？答案就是到 `'\0'` 结束。就像我们正在讲的 `s`，它有 `128` 个抽屉，但是我们刚才用到的只有 `6` 个（因为 `"Hello!"` 里面有 `6` 个字符：`'H'`、`'e'`、`'l'`、`'l'`、`'o'`、`'!'`）。于是，`scanf` 就一个字符一个字符地读取了我们的输入，放到了 `s` 的抽屉里面，在放完之后，最后又放了一个 `'\0'` 来标志字符串终止了。这样，下一行，我们的老朋友 `printf`，看到了 `%s` 以后，就会去后面找字符串，于是发现了 `s` 这个柜子，然后一个抽屉一个抽屉地把字符拿出来打印出来，最后翻到一个抽屉里是 `'\0'` 的时候，它就意识到，哦，到这就该结束了，然后就结束了打印。
